CREATE DATABASE library;
USE library;

CREATE TABLE books (
	id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	title VARCHAR(50) NOT NULL,
	author VARCHAR(30) NOT NULL,
	`status` CHAR(1) NOT NULL DEFAULT '0' COMMENT '대출중일 때 1, 대출 상태가 아닐 때 0',
    `type` CHAR(1)
);

CREATE TABLE friends (
		id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
		`name` VARCHAR(30) NOT NULL,
		school VARCHAR(50) NOT NULL,
		depart VARCHAR(50) NOT NULL,
		cellphoneNum VARCHAR(50) NOT NULL,
		email VARCHAR(50) NOT NULL
		
);

CREATE TABLE loans (
    id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
    loanDate DATETIME,
    returnDate DATETIME,
    returnDueDate DATETIME DEFAULT DATE_ADD(loanDate, INTERVAL 7 DAY),
    friend_id INT UNSIGNED NOT NULL,
    book_id INT UNSIGNED NOT NULL,
    FOREIGN KEY (friend_id) REFERENCES friends(id),
    FOREIGN KEY (book_id) REFERENCES books(id)
);
